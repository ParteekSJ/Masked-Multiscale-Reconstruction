#!/usr/bin/env python3# -*- coding: utf-8 -*-import shutilfrom pathlib import Pathimport jsonfrom collections import OrderedDictimport datetimeimport osfrom shutil import copyfiledef ensure_dir(dirname):    dirname = Path(dirname)    if not dirname.is_dir():        dirname.mkdir(parents=True, exist_ok=False)def read_json(fname):    fname = Path(fname)    with fname.open("rt") as handle:        return json.load(handle, object_hook=OrderedDict)def write_json(content, fname):    fname = Path(fname)    with fname.open("wt") as handle:        json.dump(content, handle, indent=4, sort_keys=False)def delete_folder(folder_name):    try:        shutil.rmtree(folder_name)        print(f"Successfully deleted the '{folder_name}' folder and its contents.")    except OSError as e:        print(f"Error: {e} - '{folder_name}' folder was not deleted.")def create_folders(cfg):    timestr = str(datetime.datetime.now().strftime("%Y-%m%d_%H%M%S"))    experiment_dir = Path(cfg.TRAIN_SETUPS.save_results_dir)    experiment_dir.mkdir(exist_ok=True)  # directory for saving experimental results    experiment_dir = experiment_dir.joinpath(timestr)    experiment_dir.mkdir(exist_ok=True)  # root directory of each experiment    checkpoints_dir = experiment_dir.joinpath("checkpoints/")    checkpoints_dir.mkdir(exist_ok=True)  # directory for saving the model    # tensorboard_dir = experiment_dir.joinpath("tensorboard/")    # tensorboard_dir.mkdir(exist_ok=True)  # directory for saving the logs    config_dir = experiment_dir.joinpath("configuration/")    config_dir.mkdir(exist_ok=True)  # directory for saving the logs    log_dir = experiment_dir.joinpath("log/")    log_dir.mkdir(exist_ok=True)  # directory for saving the settings    # copyfile(os.path.join(BASE_DIR, "data/dataset.py"), str(setting_dir) + "/dataset.py")    # if cfg.GLOBAL.RESUME:    #     copyfile(    #         os.path.join(BASE_DIR, "config/retrain.yaml"),    #         str(setting_dir) + "/retrain.yaml",    #     )  # retraining    # else:    #     copyfile(    #         os.path.join(BASE_DIR, "config/train.yaml"),    #         str(setting_dir) + "/train.yaml",    #     )  # fresh training    copyfile(        os.path.join("./config/default.py"),        str(config_dir) + f"/configuration_{timestr}.py",    )    # copyfile(    #     os.path.join(BASE_DIR, "model/build_model.py"),    #     str(setting_dir) + "/build_model.py",    # )    # returns several directory paths    # return experiment_dir, checkpoints_dir, tensorboard_dir, log_dir    return experiment_dir, checkpoints_dir, config_dir, log_dir